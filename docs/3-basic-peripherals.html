<h2 id="gpiod">gpiod</h2>
<div class="sourceCode" id="cb1" name="blink.c" data-caption="blink.c" data-numbers="left" data-frame="leftline"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb1-1" title="1"><span class="co">/** Es un pequeño ejemplo de las funcionalidades del interfaz del GPIO  */</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="co">/** de la Raspberry Pi por medio de la librería libgpiod.               */</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">/**                                                                     */</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">/** Para compilar el programa, se debe utilizar el comando:             */</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">/**     gcc blink.c -lgpiod -o blink                                    */</span></a>
<a class="sourceLine" id="cb1-6" title="6"></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="pp">#include </span><span class="im">&lt;gpiod.h&gt;</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="pp">#include </span><span class="im">&lt;unistd.h&gt;</span></a>
<a class="sourceLine" id="cb1-9" title="9"></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="dt">int</span> main()</a>
<a class="sourceLine" id="cb1-11" title="11">{</a>
<a class="sourceLine" id="cb1-12" title="12">    <span class="dt">int</span> state = <span class="dv">1</span>;</a>
<a class="sourceLine" id="cb1-13" title="13">    <span class="dt">int</span> input = <span class="dv">1</span>;</a>
<a class="sourceLine" id="cb1-14" title="14"></a>
<a class="sourceLine" id="cb1-15" title="15">    <span class="kw">struct</span> gpiod_chip *chip;</a>
<a class="sourceLine" id="cb1-16" title="16">    chip = gpiod_chip_open_by_name(<span class="st">&quot;gpiochip0&quot;</span>);</a>
<a class="sourceLine" id="cb1-17" title="17"></a>
<a class="sourceLine" id="cb1-18" title="18">    <span class="kw">struct</span> gpiod_line *led;</a>
<a class="sourceLine" id="cb1-19" title="19">    led = gpiod_chip_get_line(chip, <span class="dv">24</span>);</a>
<a class="sourceLine" id="cb1-20" title="20">    gpiod_line_request_output(led, <span class="st">&quot;myLED&quot;</span>, <span class="dv">0</span>);</a>
<a class="sourceLine" id="cb1-21" title="21"></a>
<a class="sourceLine" id="cb1-22" title="22">    <span class="kw">struct</span> gpiod_line *button;</a>
<a class="sourceLine" id="cb1-23" title="23">    button = gpiod_chip_get_line(chip, <span class="dv">6</span>);</a>
<a class="sourceLine" id="cb1-24" title="24">    gpiod_line_request_input(button, <span class="st">&quot;button&quot;</span>);</a>
<a class="sourceLine" id="cb1-25" title="25"></a>
<a class="sourceLine" id="cb1-26" title="26">    <span class="cf">while</span> (input == <span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb1-27" title="27">        state = state ^ <span class="dv">1</span>;</a>
<a class="sourceLine" id="cb1-28" title="28">        gpiod_line_set_value(led, state);</a>
<a class="sourceLine" id="cb1-29" title="29">        input = gpiod_line_get_value(button);</a>
<a class="sourceLine" id="cb1-30" title="30">        usleep(<span class="dv">500000</span>);</a>
<a class="sourceLine" id="cb1-31" title="31">    }</a>
<a class="sourceLine" id="cb1-32" title="32"></a>
<a class="sourceLine" id="cb1-33" title="33">    gpiod_line_set_value(led, <span class="dv">1</span>);</a>
<a class="sourceLine" id="cb1-34" title="34">    gpiod_line_release(led);</a>
<a class="sourceLine" id="cb1-35" title="35">    gpiod_line_release(button);</a>
<a class="sourceLine" id="cb1-36" title="36">    <span class="cf">return</span> <span class="dv">0</span>;</a>
<a class="sourceLine" id="cb1-37" title="37">}</a></code></pre></div>
